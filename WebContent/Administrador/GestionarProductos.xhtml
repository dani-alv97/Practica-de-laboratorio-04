<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>


	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76"
		href="/PracticaDeLaboratorio04/assets/img/apple-icon.png" />
	<link rel="icon" type="image/png"
		href="/PracticaDeLaboratorio04/assets/img/favicon.png" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Gestion de Productos</title>
	<meta
		content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
		name='viewport' />
	<!--     Fonts and icons     -->
	<link
		href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200"
		rel="stylesheet" />
	<link rel="stylesheet"
		href="https://use.fontawesome.com/releases/v5.7.1/css/all.css"
		integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
		crossorigin="anonymous" />

	<link
		href="/PracticaDeLaboratorio04/assets/css/bootstrap.min.css"
		rel="stylesheet" />
	<link
		href="/PracticaDeLaboratorio04/assets/css/now-ui-dashboard.css?v=1.5.0"
		rel="stylesheet" />
</h:head>
<h:body>
	<div class="wrapper ">
		<div class="main-panel" id="main-panel" style="width: calc(100%)">
			<!-- Navbar -->
			<h:form id="formGestionClientes">
				<nav
					class="navbar navbar-expand-lg navbar-transparent  bg-primary  navbar-absolute">
				<div class="container-fluid">
					<div class="navbar-wrapper">
						<div class="navbar-toggle">
							<button type="button" class="navbar-toggler">
								<span class="navbar-toggler-bar bar1"></span> <span
									class="navbar-toggler-bar bar2"></span> <span
									class="navbar-toggler-bar bar3"></span>
							</button>
						</div>
						<a class="navbar-brand" href="#Floro">Administrador - Gestionar Productos</a>
					</div>
					<button class="navbar-toggler" type="button" data-toggle="collapse"
						data-target="#navigation" aria-controls="navigation-index"
						aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-bar navbar-kebab"></span> <span
							class="navbar-toggler-bar navbar-kebab"></span> <span
							class="navbar-toggler-bar navbar-kebab"></span>
					</button>
					<div class="collapse navbar-collapse justify-content-end"
						id="navigation">
						<ul class="navbar-nav">
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
									aria-expanded="false"> 
									<i>Gestionar Bodegas</i>
								</a>
								<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
									<h:commandLink class="dropdown-item" value="Informe General"
										action="#{navigator.reglaRedir('informeGeneral')}" />
								</div>
							</li>
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
								aria-expanded="false"> 
									<i>Gestionar Productos</i>
								</a>	
								<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
									<h:commandLink class="dropdown-item" value="Gestionar Productos"
										action="#{navigator.reglaRedir('GestionarProductos')}" />
								</div>
							</li>		
							<li class="nav-item"><h:commandLink class="dropdown-item"
									action="#{navigator.reglaRedir('salir')}">
									<i class="now-ui-icons media-1_button-power"></i>
								</h:commandLink></li>
						</ul>
					</div>
				</div>
				</nav>
			</h:form>
			<!-- End Navbar -->
			<div class="panel-header panel-header-sm"></div>
			<div class="content">
				<div class="row">
					<div class="col-md-12">
						<div class="card">
							<div class="card-header">
								<h4 class="card-title" style="text-align: center;">Bodegas Disponibles</h4>
							</div>
							<div class="card-body">
								<div class="table-responsive">
									<h:form>
										<p:dataTable value="#{bodegaBean2.bodegas}" var="o"
											styleClass="tabla" headerClass="cabeceraTabla"
											rowClasses="filaPar,filaImpar">
											<p:column>
												<f:facet name="header">Nombre</f:facet>#{o.nombre}               	
			            					</p:column>
											<p:column>
												<f:facet name="header">Direccion</f:facet>#{o.direccion}               	
			            					</p:column>
											<p:column>
												<f:facet name="header">Ciudad</f:facet>#{o.ciudad.nombre}               	
			            					</p:column>
											<p:column>
												<f:facet name="header">Eleccion</f:facet>
												<h:commandButton class="btn-primary btn-block"
													value="Visualizar #{o.id}" style="background: Black;font-family: sans-serif;"
													action="#{bodegaBean2.setBodegaActual(o.id-1)}">
													<f:ajax render="tablaProductos" />
												</h:commandButton>
											</p:column>
										</p:dataTable>
									</h:form>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-8">
						<div class="card">
							<div class="card-header">
								<h5 class="title">Productos en la bodega</h5>
							</div>
							<div class="card-body">
								<h:form id="tablaProductos">
									<p:dataTable value="#{bodegaBean2.productosBodega}" var="i"
										styleClass="tabla" headerClass="cabeceraTabla"
										rowClasses="filaPar,filaImpar">
										<p:column>
											<f:facet name="header">Nombre</f:facet>
											<h:inputText class="form-control" value="#{i.nombre}"
												size="10" />
										</p:column>
										<p:column>
											<f:facet name="header">Precio</f:facet>
											<h:inputText class="form-control" value="#{i.precio}"
												size="10" />
										</p:column>
										<p:column>
											<f:facet name="header">Stock</f:facet>
											<h:inputText class="form-control" value="#{i.stock}"
												size="10" />
										</p:column>
										<p:column>
											<f:facet name="header">Estado</f:facet>
											<h:inputText class="form-control" value="#{i.estado}"
												size="10" />
										</p:column>
										<p:column>
											<f:facet name="header">Editar</f:facet>
											<p:commandLink value="Guardar"
												action="#{bodegaBean2.editarProducto(i)}" />
										</p:column>
										<p:column>
											<f:facet name="header">Eliminar</f:facet>
											<h:commandLink value="Eliminar"
												action="#{bodegaBean2.eliminarProducto(i)}" />
										</p:column>
									</p:dataTable>
								</h:form>
							</div>
						</div>
					</div>
					<div class="col-md-4">
						<div class="card card-user">
							<div class="card-body">
								<h:form>
									<p>Nombre:</p>
									<h:inputText class="form-control"
										value="#{bodegaBean2.nombreProducto}" size="10" />
									<p>Precio:</p>
									<h:inputText class="form-control"
										value="#{bodegaBean2.precioProducto}" size="10" />
									<p>Stock:</p>
									<h:inputText class="form-control"
										value="#{bodegaBean2.stockProducto}" size="10" />
									<p>Estado:</p>
									<h:inputText class="form-control"
										value="#{bodegaBean2.estadoProducto}" size="10" />
									<p>Categoria:</p>
									<h:selectOneListbox value="#{bodegaBean2.categoria}">
										<f:selectItems value="#{bodegaBean2.nombreCategoria}" />
									</h:selectOneListbox>
									<h:commandButton class="btn btn-primary btn-block"
										value="AÃ±adir"  style="background: Black;font-family: sans-serif;" action="#{bodegaBean2.crearProducto}" />
								</h:form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--   Core JS Files   -->
	<script
		src="/PracticaDeLaboratorio04/assets/js/core/jquery.min.js"></script>
	<script
		src="/PracticaDeLaboratorio04/assets/js/core/popper.min.js"></script>
	<script
		src="/PracticaDeLaboratorio04/assets/js/core/bootstrap.min.js"></script>
	<script
		src="/PracticaDeLaboratorio04/assets/plugins/perfect-scrollbar.jquery.min.js"></script>
	<!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
	<script
		src="/PracticaDeLaboratorio04/assets/js/now-ui-dashboard.min.js?v=1.5.0"
		type="text/javascript"></script>
</h:body>
</html>